package customer.javaauth.common.config;

import com.sap.cds.services.request.ModifiableUserInfo;
import com.sap.cds.services.request.UserInfo;
import com.sap.cds.services.request.UserInfoFactory;

public class ExtUserInfoFactoryImpl implements UserInfoFactory {

	@Override
	public ModifiableUserInfo create(UserInfo userInfo) {
		return new ExtModifiableUserInfoImpl (userInfo != null ? userInfo : anonymousUserInfo());
	}

	// unauthenticated anonymous user
	public static UserInfo anonymousUserInfo() {
		return ANONYMOUS_USER;
	}

	private static UserInfo ANONYMOUS_USER = new UserInfo() {

		@Override
		public String getName() {
			return "anonymous";
		}

		@Override
		public boolean isSystemUser() {
			return false;
		}

		@Override
		public boolean isAuthenticated() {
			return false; // anonymous
		}

	};

}
